##############################
#                            #
#        Josh Benson         #
#           2020             #
#                            #
##############################

<StepperMethodsScreen>:
    name: 'stepperMethods'
    on_enter: root.startThread()
    FloatLayout:
        size_hint: None, None

    Label:
        text: "Stepper Testing"
        size: 100, 100
        font_size: 100
        pos_hint:{"y":.4,"x": 0}
        color: 0, 0, 0, .8
        bold: True

    ImageButton:
        id: back
        source: "backarrow.png"
        size: 100, 100
        x: 10
        y: root.height * 0.9
        on_press: root.back()

    Label:
        text: "Plug into port 0"
        id: port_label
        size: 100, 100
        font_size: 50
        pos_hint:{"y":.3,"x": 0}
        color: 0, 0, 0, .5

    Label:
        text: "Blue, Red, Green, Black"
        size: 100, 100
        font_size: 50
        pos_hint:{"y":-.1,"x": 0}
        color: 0, 0, 0, .5

    ImageButton:
        source: "steppermotor.jpg"
        size: 300, 300
        x: (root.width * 0.5) - 150
        y: root.height * 0.48

    DPEAButton:
        text: "Stop"
        size: 350, 100
        x: (root.width * 0.85) - 175
        y: root.height * 0.12
        color: .8, 0, 0, 1
        on_press: root.runControl("stop")

    DPEAButton:
        text: "Run"
        size: 350, 100
        x: (root.width * 0.15) - 175
        y: root.height * 0.12
        color: 0, .8, 0, 1
        on_press: root.runControl("run")

    DPEAButton:
        text: "Port 0"
        size: 250, 65
        x: (root.width * 0.1)- 125
        y: root.height * 0.72
        color: .6, .6, .6, .6
        on_press: root.port(0)

    DPEAButton:
        text: "Port 1"
        size: 250, 65
        x: (root.width * 0.28) - 125
        y: root.height * 0.72
        color: .6, .6, .6, .6
        on_press: root.port(1)

    DPEAButton:
        text: "Port 2"
        size: 250, 65
        x: (root.width * 0.1) - 125
        y: root.height * 0.62
        color: .6, .6, .6, .6
        on_press: root.port(2)

    DPEAButton:
        text: "Port 3"
        size: 250, 65
        x: (root.width * 0.28) - 125
        y: root.height * 0.62
        color: .6, .6, .6, .6
        on_press: root.port(3)

    Label:
        text: "Toggle Direction"
        size: 100, 100
        font_size: 30
        pos_hint:{"y": .05,"x": -.3}
        color: 0, 0, 0, .5

    Label:
        text: "Set port"
        size: 100, 100
        font_size: 30
        pos_hint:{"y": .33,"x": -.3}
        color: 0, 0, 0, .5


    ImageButton:
        source: "cw.png"
        id: dir_button
        size: 200, 130
        x: (root.width * 0.18) - 75
        y: root.height * 0.4
        on_press: root.toggleDir()


    DPEAButton:
        text: "Steps"
        id: length_mode_button
        size: 400, 100
        x: (root.width * 0.5) - 200
        y: root.height * 0.25
        color: .8, .6, .8, 1
        on_press: root.toggleLegnthMode()


    Slider:
        id: length_slider
        size_hint_x: .4
        size_hint_y: .1
        x: root.width * 0.3
        y: 0
        value: 5
        min: 0
        max: 1000
        step: 1


    Slider:
        id: microstep_slider
        size_hint_x: .4
        size_hint_y: .1
        x: root.width * 0.3
        y: root.height * 0.1
        value: 4
        min: 0
        max: 128
        step: 2


    Label:
        text: "Microsteps: 4"
        id: microstep_label
        size: 100, 100
        font_size: 30
        pos_hint:{"y": -.32,"x": 0}
        color: 0, 0, 0, .5

    Label:
        text: "Steps: 5"
        id: length_label
        size: 100, 100
        font_size: 30
        pos_hint:{"y": -.42,"x": 0}
        color: 0, 0, 0, .5


    Slider:
        id: speed_slider
        size_hint_x: .1
        size_hint_y: .4
        x: root.width * 0.67
        y: root.height * 0.4
        orientation: 'vertical'
        value: 50
        min: 0
        max: 100
        step: 1


    Slider:
        id: acell_slider
        size_hint_x: .1
        size_hint_y: .4
        x: root.width * 0.77
        y: root.height * 0.4
        orientation: 'vertical'
        value: 50
        min: 0
        max: 100
        step: 1

    Slider:
        id: decell_slider
        size_hint_x: .1
        size_hint_y: .4
        x: root.width * 0.87
        y: root.height * 0.4
        orientation: 'vertical'
        value: 50
        min: 0
        max: 100
        step: 1


    Label:
        text: "Speed: 50"
        id: speed_label
        size: 100, 100
        font_size: 30
        pos_hint:{"y": -.15,"x": .22}
        color: 0, 0, 0, .5

    Label:
        text: "Acceleration: 50"
        id: acell_label
        size: 100, 100
        font_size: 30
        pos_hint:{"y": .35,"x": .32}
        color: 0, 0, 0, .5

    Label:
        text: "Deceleration: 50"
        id: decell_label
        size: 100, 100
        font_size: 30
        pos_hint:{"y": -.15,"x": .42}
        color: 0, 0, 0, .5